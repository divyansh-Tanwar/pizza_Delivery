<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" type="image/x-icon" href="/img/favicon.ico" />
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- awesome notification -->
    <link rel="stylesheet" href="/css/style.css"></link>  
    <script src="/js/index.var.js"></script>
    <!-- end of awesome notification link -->
    <link rel="stylesheet" href="/css/app.css" />
    <title>Pizza Delievery</title>
  </head>
  <body>
    <!--------------------------------------- Navbar--------------------------------------------------------------->
    <nav class="container mx-auto px-8 flex items-centre justify-between">
      <div class="my-2">
        <img src="/img/logo.png" alt="logo" />
      </div>

      <div class="my-4">
        <ul class="hidden md:flex items-centre">
          <li class="mx-6"><a href="/">Menu</a></li>
          <li class="mx-6"><a href="">Offers</a></li>
          <% if(user) { %>
            <li class="mx-6"><a href="/logout">logout</a></li>
            <% } else {%>
          <li class="mx-6"><a href="/register">Register</a></li>
          <li class="mx-6"><a href="/login">LogIn</a></li>
          <% } %>
          <li class="mx-6 ">
            <a
              href="/cart"
              class="cart_image inline-block px-4 py-1 rounded-full flex items-center">
              <span id="cartCounter" class="text-white font-bold pr-2 text-sm"><%= session.cart?session.cart.totalQty:''%></span>
              <img src="/img/cart.png"
            /></a>
          </li>
        </ul>
        <button onclick=" handleMenu()" class="md:hidden">☰</button>
      </div>

      <!----------------------------------------------- navbar for mobile screen------------------------------------------ -->
      <div
        id="nav-dilogue"
        class="hidden fixed z-10 md:hidden bg-white inset-0 mx-auto"
      >
        <div class="flex justify-between">
          <div class="p-2">
            <img class="pl-6" src="/img/logo.png" alt="logo" />
          </div>
          <button onclick= "handleMenu()" class="pr-7 mb-4 md:hidden">⛌</button>
        </div>
        <div>
          <ul class="mt-6">
            <li class="mx-6 text-xl font-bold pt-5"><a href="/">Menu</a></li>
            <li class="mx-6 text-xl font-bold pt-5"><a href="">Offers</a></li>
            <% if(user) { %>
              <li class="mx-6 text-xl font-bold pt-5">
                <a href="/logout">logout</a>
              </li>
            <% } else {%>
            <li class="mx-6 text-xl font-bold pt-5">
              <a href="/register">Register</a>
            </li>
            <li class="mx-6 text-xl font-bold pt-5">
              <a href="/login">LogIn</a>
            </li>
            <% } %>
            <li class="mx-6 text-xl font-bold pt-5">
              <hr class="my-3 bg-black border-2 border-solid" />
              <a
                id="cart-icon"
                onclick="handleCart"
                href="/cart"
                class="cart_image inline-block px-4 py-1 rounded-full">
                <img src="/img/cart.png"
              /></a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <%- body %>

    <script>
      const navDilogue = document.getElementById("nav-dilogue");
      function handleMenu() {
        navDilogue.classList.toggle("hidden");
      }

      const cartIcon = document.getElementById("cart-icon");
      function handleCart() {
        navDilogue.classList.toggle("hidden");
      }
    </script>
    <script src="/js/app.js"></script>
  </body>
</html>
